<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <report
                id="report_rem_customer"
                string="Nota de Remisión - Cliente"
                model="sale.order"
                report_type="qweb-pdf"
                name="vr_report_remision.report_remision_customer"
                file="vr_report_remision.report_remision_customer"
        />
        <template id="report_remision_customer">
            <t t-if="o and 'company_id' in o">
                <t t-set="company" t-value="o.company_id"></t>
            </t>
            <t t-if="not o or not 'company_id' in o">
                <t t-set="company" t-value="res_company"></t>
            </t>
            <t t-call="web.html_container">
                    <t t-foreach="docs" t-as="o">
                        <div class="page">
                            <div class="oe_structure"/>
                          <!-- <div style="top:400px;position:absolute;opacity:0.50;width:100%;text-align:center;z-index:1000;">
                                <img class="img img-responsive" t-if="o.company_id.logo" t-att-src="image_data_uri(o.company_id.logo)" alt="Logo"/>
                            </div>-->
                            <table style="width: 100%;">
                                <colgroup>
                                    <col style="width: 20%"/>
                                    <col style="width: 40%"/>
                                    <col style="width: 40%"/>
                                </colgroup>
                                <thead>
                                    <tr>
                                        <td colspan="3">
                                            <div class="panel" style="text-align:left;">
                                                <h4>SALUR S.R.L. DISTRIBUCIONES Y REPRESENTACIONES</h4>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td rowspan="2" style="padding:0px 0 0px 0; vertical-align:top; text-align:center;" >
                                            <img style="width: 150px; height: 150px;"
                                                 t-att-src="image_data_uri(o.company_id.logo)"
                                                 alt="Logo"/>
                                                </td>
                                        <td style="padding:20px 0 0px 0;vertical-align:top;text-align:center;"><p><span t-field="o.warehouse_id.partner_id.name"> </span>
                                            <br>CAJA 1</br>
                                            <br><span t-field="o.warehouse_id.partner_id.street"> </span></br>
                                            <br>Telefono: <span t-field="o.warehouse_id.partner_id.phone"> </span></br>
                                            <br>Fecha de Pedido:<t t-if="o.warehouse_id.casa_matriz">
                                                    <span t-field="o.warehouse_id.partner_id.city"/>,
                                                </t>
                                                <span t-field="o.date_order" t-options="{'format': 'EEEE, d '}"/>
                                                de
                                                <span t-field="o.date_order" t-options="{'format': 'MMMM '}"/>
                                                del
                                                <span t-field="o.date_order" t-options="{'format': 'YYYY'}"/></br>
                                        </p></td>
                                        <td style="padding:0px 0 0px 0;vertical-align:top;text-align:center;"><h3><strong>NOTA DE REMISIÓN</strong>
                                        </h3>
                                            <h3><strong><span t-field="o.name"> </span></strong></h3>
                                        </td>
                                    </tr>
                                </thead>
                            </table>
                            <div class="container">
                                <div class="row" style="padding-bottom:5px;">
									<div class="col-6" style="text-transform: uppercase; font-size:12px"><strong>Cliente:</strong> <span t-field="o.partner_id.name"></span></div>
                                    <div class="col-6" style="text-transform: uppercase; font-size:12px" t-if="o.nit_ci"><strong>Nit:</strong> <span t-field="o.nit_ci"></span></div>
								</div>
                                 <div class="row" style="padding-bottom:5px;">
									<div class="col-6" style="text-transform: uppercase; font-size:12px" t-if="o.hospital_id"><strong>Hospital:</strong> <span t-field="o.hospital_id.name"></span></div>
                                     <div class="col-6" style="text-transform: uppercase; font-size:12px" t-if="o.hospital_id"><strong>Doctor:</strong> <span t-field="o.doctor.name"></span></div>
                                    <div class="col-6" style="text-transform: uppercase; font-size:12px" t-if="o.patient.name"><strong>Paciente:</strong> <span t-field="o.patient.name"></span></div>
								</div>
                                <div class="row" style="padding-bottom:5px;">
									<div class="col-6" style="text-transform: uppercase; font-size:12px" t-if="o.terms_id"><strong>Condiciones de Venta:</strong> <span t-field="o.terms_id"></span></div>
								</div>
                                <div class="row" style="padding-bottom:5px;">
									<div class="col-6" style="text-transform: uppercase; font-size:12px" t-if="o.partner_id.street"><strong>Dirección:</strong> <span t-field="o.partner_id.street"></span></div>
                                    <div class="col-6" style="text-transform: uppercase; font-size:12px" t-if="o.partner_id.city"><strong>Ciudad:</strong> <span t-field="o.partner_id.city"></span></div>
								</div>
                                <div class="row" style="padding-bottom:5px;">
									<div class="col-6" style="text-transform: uppercase; font-size:12px" t-if="o.tag_ids"><strong>Vendedor:</strong> <span t-field="o.tag_ids"></span></div>
								</div>
                                <div class="row" style="padding-bottom:5px;">
									<div class="col-6" style="text-transform: uppercase; font-size:12px" t-if="o.validity_date"><strong>Vencimiento:</strong> <span t-field="o.validity_date"></span></div>
								</div>
                            </div>
                            <table class="table table-sm">
                                <thead>
                                    <tr>
                                        <th style="background-color:#a7c1e8 !important;border: 1px !important; border-style: solid !important; border-color: #000000; color:#000000 !important; ">Código</th>
                                        <th style="background-color:#a7c1e8 !important;border: 1px !important; border-style: solid !important; border-color: #000000; color:#000000 !important; " class="text-right">Cant.</th>
                                        <th style="background-color:#a7c1e8 !important;border: 1px !important; border-style: solid !important; border-color: #000000; color:#000000 !important; ">Descripción</th>
                                        <th style="background-color:#a7c1e8 !important;border: 1px !important; border-style: solid !important; border-color: #000000; color:#000000 !important; ">U/M</th>
                                        <th style="background-color:#a7c1e8 !important;border: 1px !important; border-style: solid !important; border-color: #000000; color:#000000 !important; " class="text-right">Precio Unitario</th>
                                        <th style="background-color:#a7c1e8 !important;border: 1px !important; border-style: solid !important; border-color: #000000; color:#000000 !important; " t-if="display_discount" class="text-right" groups="sale.group_discount_per_so_line">Disc.(%)</th>
                                        <!--<th style="background-color:#893b74 !important;border: 1px !important; border-style: solid !important; border-color: #fff; color:#fff !important; " class="text-right">Taxes</th>-->
                                        <th style="background-color:#a7c1e8 !important;border: 1px !important; border-style: solid !important; border-color: #000000; color:#000000 !important; " class="text-right">Subtotal</th>
                                    </tr>
                               </thead>
                               <tbody class="sale_tbody">
                                    <t t-foreach="o.order_line" t-as="l">
                                       <tr t-att-class="'bg-200 font-weight-bold o_line_section' if l.display_type == 'line_section' else 'font-italic o_line_note' if l.display_type == 'line_note' else ''">
                                            <t t-if="not l.display_type">
					 <tr t-if="l.product_uom_qty">
                                            <tr t-if="l.price_unit > 0">
                                                <td>
                                                    <span t-field="l.product_id.default_code"/>
                                                </td>
                                                <td class="text-right">
                                                    <span t-field="l.product_uom_qty"/>
                                                    <span groups="product.group_uom" t-field="l.product_uom"/>
                                                </td>
                                                <td>
                                                   <span t-field="l.name"/>
                                                </td>
                                                <td>
                                                   <span t-field="l.product_uom"/>
                                                </td>
                                                <td class="text-right">
                                                    <span t-field="l.price_unit"/>
                                                </td>
                                                <td t-if="display_discount" class="text-right" groups="sale.group_discount_per_so_line">
                                                    <span t-field="l.discount"/>
                                                </td>
                                                <!--<td class="text-right">
                                                    <span t-esc="', '.join(map(lambda x: (x.description or x.name), l.tax_id))"/>
                                                </td>-->
                                                <td class="text-right">
                                                    <span t-field="l.price_total"/>
                                                </td>
                                            </tr>
                                        </tr>
					</t>
					<t t-if="l.display_type == 'line_note'">
                                                <td name="td_note_line" colspan="99">
                                                    <span t-field="l.name"/>
                                                </td>
                                            </t>
					</tr>
                                    </t>
                                </tbody>
                            </table>
                            <div name="total">
                                <div class="col-xs-4 pull-right">
                                    <table class="table table-condensed">
                                        <tr class="border-black">
                                            <td><strong>Descuento Total</strong></td>
                                            <td class="text-right">
                                                <span t-field="o.amount_discount"
                                                    t-field-options='{"widget": "monetary", "display_currency": "o.pricelist_id.currency_id"}'/>
                                            </td>
                                        </tr>
                                        <tr class="border-black">
                                            <td style="background-color:#a7c1e8 !important;color:#000000 !important;"><strong>Total</strong></td>
                                            <td style="background-color:#a7c1e8 !important;color:#000000 !important;" class="text-right">
                                                <span t-field="o.amount_total"
                                                    t-field-options='{"widget": "monetary", "display_currency": "o.pricelist_id.currency_id"}'/>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            <table class="container" style="width:100%; font-size:12px; font-family:Arial; border:1px solid #000;" border="1" cellpadding="0" cellspacing="0">
                            <tr>
                                <td colspan="6" style="text-transform:uppercase;">
                                               <strong>SON:  </strong>
                                    <span t-field="o.total_to_word"/>
                                        <span> BOLIVIANOS</span>
                                </td>
                            </tr>
                            </table>
                            <p>&amp;nbsp;</p>
                            <tr>
                                <td colspan="6" style="text-transform:uppercase;">
                                                Notas:
                                    <span t-field="o.note"/>
                                </td>
                            </tr>

                            <div class="oe_structure"/>
                        </div>
                       <!-- <div t-attf-class="{{'footer' if not portal else ''}}"  t-attf-style="font-size:px !important;font-family: !important;">
                            <t t-call="vr_report_remision.external_layout_footer"/>
                        </div>-->
                        <t t-call="vr_report_remision.external_layout_footer"/>
                    </t>


            </t>
        </template>
    </data>
</odoo>
